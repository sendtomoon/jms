<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JY</title>
<link rel="stylesheet" href="../commonStyle/css/style.css" />
</head>
<body>
<div class="logo"><img src="logo.png"></div><br/>
<h2>JY方法主要分类：</h2>

<!-- <pre class="prettyprint xml"> -->
<table id='tableID' class="imagetable">
<tr><th>序号</th><th>分类</th><th>用途</th></tr>
<tr><td>1</td><td><a href="#ObjectID">Object</a></td><td>封装对象方法</td></tr>
<tr><td>2</td><td><a href="#DictID">Dict</a></td><td>封装字典方法</td></tr>
<tr><td>3</td><td><a href="#PageID">Page</a></td><td>封装分页方法</td></tr>
<tr><td>4</td><td><a href="#ModelID">Model</a></td><td>封装弹出框方法</td></tr>
<tr><td>5</td><td><a href="#ValidateID">Validate</a></td><td>封装验证方法</td></tr>
<tr><td>6</td><td><a href="#DateID">Date</a></td><td>封装日期方法</td></tr>
<tr><td>7</td><td><a href="#TagsID">Tags</a></td><td>封装特殊标签方法</td></tr>
<tr><td>8</td><td><a href="#FormID">FormValid</a></td><td>表单校验样式</td></tr>
<tr><td>9</td><td><a href="#ToolsID">Tool</a></td><td>工具类</td></tr>
<tr><td>10</td><td><a href="#FieldID">Module.Field</a></td><td>字段动态扩展组件</td></tr>
<tr><td>11</td><td><a href="#ZTreeDrop">$.jy.dropTree</a></td><td>选择组件(树形结构)</td></tr>
</table>
<!-- 1.Object：封装对象方法
2.Dict:封装字典方法
3.Page:封装分页方法
4.Model:封装弹出框方法
5.Validate:封装验证方法
6.Date:封装日期方法
7.Tags:封装特殊标签方法 -->
<!-- </pre> -->
<h2 id='ObjectID'>1.JY.Object</h2>
<pre class="prettyprint perl">
JY.Object.notNull(obj)
断某对象不为空..返回true 否则 false
JY.Object.notEmpty(obj)
判断某对象不为空..返回obj 否则 ""
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='DictID'>2.JY.Dict</h2>
<pre class="prettyprint perl">
/*
 * ids   对应id值(多个逗号分隔)
 * keys  对应key值(多个逗号分隔)
 * type  (可选)1.请选择，2.自定义数组。默认不填
 * dfstr (可选)自定义数组
 */
JY.Dict.setSelect(ids,keys,type,dfstr)
根据字典去数据库寻找值填充select选择框
/*
*param  	省select的ID
*param_2    市select的ID
*param_3    区县select的ID
*code		省ID编号
*code_2		市ID编号
*code_3		区县ID编号
*param,param_2,param_3是传入省市区select id
*code,code_2,code_3是做查询和修改的时候传入省市区编号
*/
JY.Dict.selectDate(param,param_2,param_3,code,code_2,code_3)
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='PageID'>3.JY.Page</h2>
<pre class="prettyprint perl">
/*
 *设置分页方法
 *formId 分页参数Form的Id
 *pageId 分页位置Id
 *pagesize 分页显示数量
 *pagenum 页码
 *totalCount 数据总数
 *fun 获得数据方法名
*/
JY.Page.setPage(formId,pageId,pagesize,pagenum,totalCount,fun)
/*
 *跳转分页
 *formId 分页参数Form的Id
 *num 页码
 *JpFun 跳转方法
 */
JY.Page.jump(formId,pagenum,JpFun)
/*
 *设置分页单个显示数量
 *formId 分页参数Form的Id
 *size 显示数量
 *JpFun 跳转方法
 */
JY.Page.setSize(formId,size,JpFun)
/*
 *自定义跳转分页
 *formId 分页参数Form的Id
 *pageId 分页Id值
 *JpFun 跳转方法
*/
JY.Page.jumpCustom(formId,pageId,leng,JpFun)
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='ModelID'>4.JY.Model</h2>
<pre class="prettyprint perl">
/*
 *loading框
 *Str loading的语句
 */
JY.Model.loading(Str)
/*
 *关闭loading框
 *Str 
 */
JY.Model.loadingClose()
/*
 *确认框
 *fun 确认调用后执行方法名
 *Str 询问语句可以是html格式
 */
JY.Model.confirm(fun,Str)
/*
 *提示信息框
 *Str 语句可以是html格式（如：&lt;span&gt;保存成功&lt;/span&gt;）
 *fun 方法名可带参数 例如：a('xx') 
 */
JY.Model.info(Str,fun)
/*
 *提示错误框
 *Str 语句可以是html格式（如：&lt;span&gt;保存成功&lt;/span&gt;）
 */
JY.Model.error(Str)
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='ValidateID'>5.JY.Validate</h2>
<pre class="prettyprint perl">
/*
 *判断是否为空有提示和返回值
 *是空返回true，不是空返回false
 *id
 *side 提示窗显示位置  1，2，3，4 分别代表 上右下左 默认为1（上） 可选
 */
JY.Validate.isnull(id,side)(新版取消)
/*
 *表单验证
 *fromId
 *使用方法 在表单必须使用jyValidate属性
 *required :必要字段
 *date     :日期
 *datetime :日期+时间
 */
JY.Validate.form=function(fromId,side)
/*
 *判断是否是电子邮箱
 *是返回true，不是返回false
 */
JY.Validate.isEmail(email)
/*
 *判断是否是日期
 *是返回true，不是返回false
 */
JY.Validate.isDate(date)
/*
 *判断是否是日期时间
 *是返回true，不是返回false
 */
JY.Validate.isDatetime(datetime)
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='DateID'>6.JY.Date</h2>
<pre class="prettyprint perl">
/*
 *时间格式化(默认)
 *time 时间
 */
JY.Date.Default(time)
/*
 *时间格式化
 *time 时间
 *fmt  格式
*/
JY.Date.Format(time,fmt)
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='TagsID'>7.JY.Tags</h2>
<pre class="prettyprint perl">
/*
 *设置选择框1或0值
 *class是isValidCheckbox的选择框Yes或No，value设为1或0
 *formId form的Id
 */
JY.Tags.isValid(formId)
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='FormID'>8.Form表单校验</h2>
<pre class="prettyprint perl">
/*
 *form表单校验
 *在标签上添加属性及对应的样式
 */
属性：jyValidate
对应的样式值如下：
required：校验必填,例如 jyValidate="required" 
email：只能是邮箱格式
date：只能是日期时间格式
datetime：只能是日期时间格式
numrange：判断数值是否在范围内(不包含临界):min 最少值,max 最大值
numrangeth：判断数值是否在范围内(包含临界),min 最少值,max 最大值
en：只能是英文
ch:只能是中文
ennum：只能是英文和数字
mobile：校验手机号码11位，常见的号段校验。
reg：注册账号：以字母开头，数字和字母加下划线组合
password：验证密码:数字、字母、字符至少包含两种，长度在8-16之间 
lenrange：判断长度是否在范围内,minl 最少值,maxl 最大值。
例如长度6-20之间：jyValidate="lenrange" minl="6" maxl="20"

如果多个校验属性以“,”隔开，例如 jyValidate="required,phone"
注：支持input、textarea、select。其他后续再扩展。。。
</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='ToolsID'>9.Tools工具类</h2>
<pre class="prettyprint perl">

1，JY.Tools.getBrowser()  获取浏览器类型:IE ,CHROME,FireFox
2，JY.Tools.getPageCharset()  获取当前page的编码：UTF-8,GBK,GB2312 ...
3，JY.Tools.getStringBytes(string,charset)  获取字符串的字节数，用于页面输入框长度校验
4，JY.Tools.switchForm2Array(form,exceptAttr)  将Form表单转数组，[Object,Object.....] form对象，exceptAttr除外的属性
5,JY.Tools.getExtendsAttrValues(formId,attr)  获取Form里面指定属性的name和value的数组

</pre>
<a href='#tableID'>返回顶部</a>
<h2 id='FieldID'>10.字段动态扩展组件</h2>
<pre class="prettyprint perl">
API:
对象：JY.Module.Field
方法：load,save

1,JY.Module.Field.load(formId,busiParams,cols)
参数：
formId:Form表单Id（string）
busiParams：业务参数：（object）
		cid：分类id（string）
		bid：业务id（string）
				
2,JY.Module.Field.save(formId,url,callback)
参数：
formId:Form表单Id（string）
url:后台服务路径（string）
callback：回调方法（function）

3，后台数据操作接口：（AttributeDao）
	新增：addAttrsValue（数据集合）
	更新：updateAttrsValue（数据集合）
	
	
	
</pre>

<a href='#tableID'>返回顶部</a>
<h2 id='ZTreeDrop'>11.选择组件(树形结构)</h2>
<pre class="prettyprint perl">

html部分：
&lt;div id=&quot;自定义&quot;&gt;
	&lt;input id=&quot;自定义&quot; type=&quot;text&quot; readonly &gt;
&lt;/div&gt;
js部分：
1,初始化树:
	$.jy.dropTree.init(setting);
参数说明：
		rootId 页面自定义的div id（必填）
		displayId 页面自定义的input id（必填）,
		data 要加载的数据（必填）,
		isExpand 是否展开根节点  true展开/false折叠,
		resetFn() 清除按钮点击后回调函数，默认是清空了显示的值，还涉及其他业务逻辑的可在此回调函数中自行处理。（选填）
		clickFn(node):选中节点后回调，默认是input显示值，还涉及其他业务逻辑的可在此回调函数中自行处理。（选填）node是返回选中的节点数据。
		dataFormat：数据格式化（选填）默认是{enable:true,idKey:"id",pIdKey:"pid",rootPId:'0'}，根据自己需要进行重写。
2,根据id选中节点
	$.jy.dropTree.checkNode(rootId,displayId,nodeId,fn);
参数说明：
		rootId 页面自定义的div id
		displayId 页面自定义的input id
		nodeId 节点的id（也就是你的业务中的数据id）
		fn 回调函数。（选中节点默认会回显节点的name到界面上。有其他业务逻辑的，可在此自行操作。）
3,清空生成树的html。重置样式
$.jy.dropTree.restStyle(rootId);

js路径：static/js/system/jy/jy.component.js

</pre>

<br>
<br>

</body>
</html>